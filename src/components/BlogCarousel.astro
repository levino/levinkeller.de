---
import { Image } from 'astro:assets'
import type { ImageMetadata } from 'astro'

interface Props {
  slides: { src: ImageMetadata; alt: string }[]
  id: string
}

const { slides, id } = Astro.props
---

<div class="carousel w-full">
  {
    slides.map((slide, i) => (
      <div id={`${id}-${i + 1}`} class="carousel-item relative w-full">
        <Image
          src={slide.src}
          alt={slide.alt}
          widths={[480, 800, 1200]}
          sizes="(max-width: 800px) 100vw, 800px"
          quality={85}
          class="h-auto w-full"
        />
        <div class="absolute left-2 right-2 top-1/2 flex -translate-y-1/2 justify-between">
          <a
            href={`#${id}-${i === 0 ? slides.length : i}`}
            class="btn btn-circle btn-sm opacity-70"
          >
            ❮
          </a>
          <a
            href={`#${id}-${i + 2 > slides.length ? 1 : i + 2}`}
            class="btn btn-circle btn-sm opacity-70"
          >
            ❯
          </a>
        </div>
      </div>
    ))
  }
</div>
